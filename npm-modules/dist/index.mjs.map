{"version":3,"file":"index.mjs","sources":["../src/react-responsive/useMediaQuery.ts","../src/react-responsive/MediaQuery.tsx","../src/react-visibility/usePageVisability.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\ninterface queryProps {\r\n  query: string;\r\n}\r\n\r\nexport const useMediaQuery = ({ query }: queryProps): boolean => {\r\n  const [matching, setMatching] = useState(\r\n    () => window.matchMedia(query).matches\r\n  );\r\n\r\n  useEffect(() => {\r\n    const media = window.matchMedia(query);\r\n    setMatching(media.matches);\r\n    const changeState = () => setMatching(() => media.matches);\r\n    media.addEventListener(\"change\", changeState);\r\n    return () => media.removeEventListener(\"change\", changeState);\r\n  }, [query]);\r\n\r\n  return matching;\r\n};\r\n","import React from \"react\";\r\nimport { useMediaQuery } from \"./useMediaQuery\";\r\n\r\ninterface mediaQueryProps {\r\n  orientation?: \"portrait\" | \"landscape\";\r\n  minResolution?: `${number}dppx` | number;\r\n  maxResolution?: `${number}dppx` | number;\r\n  minWidth?: number;\r\n  maxWidth?: number;\r\n  minHeight?: number;\r\n  maxHeight?: number;\r\n  children?: React.ReactNode | ((matches: boolean) => React.ReactNode);\r\n}\r\n\r\nconst MediaQuery = ({ children, ...props }: mediaQueryProps) => {\r\n  const getSize = (key: string, value: number | string) => {\r\n    switch (key) {\r\n      case \"orientation\":\r\n        return `(orientation: ${value})`;\r\n      case \"minWidth\":\r\n        return `(min-width: ${value}px)`;\r\n      case \"maxWidth\":\r\n        return `(max-width: ${value}px)`;\r\n      case \"minHeight\":\r\n        return `(min-height: ${value}px)`;\r\n      case \"maxHeight\":\r\n        return `(max-height: ${value}px)`;\r\n      case \"minResolution\":\r\n        return `(min-resolution: ${\r\n          typeof value === \"number\" ? value + \"dppx\" : value\r\n        })`;\r\n      case \"maxResolution\":\r\n        return `(max-resolution: ${\r\n          typeof value === \"number\" ? value + \"dppx\" : value\r\n        })`;\r\n      default:\r\n        return \"\";\r\n    }\r\n  };\r\n\r\n  const line = Object.entries(props)\r\n    .map(([key, value]) => `${getSize(key, value)}`)\r\n    .join(\"; \");\r\n  const query = useMediaQuery({ query: line });\r\n\r\n  return typeof children === \"function\" ? (\r\n    <>{children(query)}</>\r\n  ) : query ? (\r\n    <>{children}</>\r\n  ) : null;\r\n};\r\n\r\nexport default MediaQuery;\r\n","import { useState, useEffect, useRef } from \"react\";\r\n\r\nexport function usePageVisibility() {\r\n  const [visible, setVisible] = useState(!document.hidden);\r\n  const [count, setcount] = useState(0);\r\n  const ref = useRef<((param: boolean) => void)[]>([]);\r\n\r\n  useEffect(() => {\r\n    const changeVisability = () => {\r\n      if (document.hidden) {\r\n        setcount((count) => count + 1);\r\n      }\r\n      setVisible(!document.hidden);\r\n      ref.current.forEach((changeVisability) =>\r\n        changeVisability(!document.hidden)\r\n      );\r\n    };\r\n    document.addEventListener(\"visibilitychange\", changeVisability);\r\n    return () => {\r\n      document.removeEventListener(\"visibilitychange\", changeVisability);\r\n    };\r\n  }, []);\r\n  const onVisibilityChange = (func: (param: boolean) => void) => {\r\n    ref.current = [...ref.current, func];\r\n  };\r\n  return { visible, count, onVisibilityChange };\r\n}\r\n"],"names":["_jsx","_Fragment"],"mappings":";;;MAMa,aAAa,GAAG,CAAC,EAAE,KAAK,EAAc,KAAa;IAC9D,MAAM,CAAC,QAAQ,EAAE,WAAW,CAAC,GAAG,QAAQ,CACtC,MAAM,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,OAAO,CACvC,CAAC;IAEF,SAAS,CAAC,MAAK;QACb,MAAM,KAAK,GAAG,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AACvC,QAAA,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AAC3B,QAAA,MAAM,WAAW,GAAG,MAAM,WAAW,CAAC,MAAM,KAAK,CAAC,OAAO,CAAC,CAAC;AAC3D,QAAA,KAAK,CAAC,gBAAgB,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;QAC9C,OAAO,MAAM,KAAK,CAAC,mBAAmB,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;AAChE,KAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AAEZ,IAAA,OAAO,QAAQ,CAAC;AAClB;;ACNM,MAAA,UAAU,GAAG,CAAC,EAAE,QAAQ,EAAE,GAAG,KAAK,EAAmB,KAAI;AAC7D,IAAA,MAAM,OAAO,GAAG,CAAC,GAAW,EAAE,KAAsB,KAAI;AACtD,QAAA,QAAQ,GAAG;AACT,YAAA,KAAK,aAAa;gBAChB,OAAO,CAAA,cAAA,EAAiB,KAAK,CAAA,CAAA,CAAG,CAAC;AACnC,YAAA,KAAK,UAAU;gBACb,OAAO,CAAA,YAAA,EAAe,KAAK,CAAA,GAAA,CAAK,CAAC;AACnC,YAAA,KAAK,UAAU;gBACb,OAAO,CAAA,YAAA,EAAe,KAAK,CAAA,GAAA,CAAK,CAAC;AACnC,YAAA,KAAK,WAAW;gBACd,OAAO,CAAA,aAAA,EAAgB,KAAK,CAAA,GAAA,CAAK,CAAC;AACpC,YAAA,KAAK,WAAW;gBACd,OAAO,CAAA,aAAA,EAAgB,KAAK,CAAA,GAAA,CAAK,CAAC;AACpC,YAAA,KAAK,eAAe;AAClB,gBAAA,OAAO,oBACL,OAAO,KAAK,KAAK,QAAQ,GAAG,KAAK,GAAG,MAAM,GAAG,KAC/C,GAAG,CAAC;AACN,YAAA,KAAK,eAAe;AAClB,gBAAA,OAAO,oBACL,OAAO,KAAK,KAAK,QAAQ,GAAG,KAAK,GAAG,MAAM,GAAG,KAC/C,GAAG,CAAC;AACN,YAAA;AACE,gBAAA,OAAO,EAAE,CAAC;AACb,SAAA;AACH,KAAC,CAAC;AAEF,IAAA,MAAM,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC;AAC/B,SAAA,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,KAAK,CAAA,EAAG,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC;SAC/C,IAAI,CAAC,IAAI,CAAC,CAAC;IACd,MAAM,KAAK,GAAG,aAAa,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAE7C,IAAA,OAAO,OAAO,QAAQ,KAAK,UAAU,IACnCA,GAAG,CAAAC,QAAA,EAAA,EAAA,QAAA,EAAA,QAAQ,CAAC,KAAK,CAAC,EAAI,CAAA,IACpB,KAAK,IACPD,GAAA,CAAAC,QAAA,EAAA,EAAA,QAAA,EAAG,QAAQ,EAAA,CAAI,IACb,IAAI,CAAC;AACX;;SChDgB,iBAAiB,GAAA;AAC/B,IAAA,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IACzD,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;AACtC,IAAA,MAAM,GAAG,GAAG,MAAM,CAA+B,EAAE,CAAC,CAAC;IAErD,SAAS,CAAC,MAAK;QACb,MAAM,gBAAgB,GAAG,MAAK;YAC5B,IAAI,QAAQ,CAAC,MAAM,EAAE;gBACnB,QAAQ,CAAC,CAAC,KAAK,KAAK,KAAK,GAAG,CAAC,CAAC,CAAC;AAChC,aAAA;AACD,YAAA,UAAU,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AAC7B,YAAA,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,gBAAgB,KACnC,gBAAgB,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CACnC,CAAC;AACJ,SAAC,CAAC;AACF,QAAA,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,gBAAgB,CAAC,CAAC;AAChE,QAAA,OAAO,MAAK;AACV,YAAA,QAAQ,CAAC,mBAAmB,CAAC,kBAAkB,EAAE,gBAAgB,CAAC,CAAC;AACrE,SAAC,CAAC;KACH,EAAE,EAAE,CAAC,CAAC;AACP,IAAA,MAAM,kBAAkB,GAAG,CAAC,IAA8B,KAAI;QAC5D,GAAG,CAAC,OAAO,GAAG,CAAC,GAAG,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;AACvC,KAAC,CAAC;AACF,IAAA,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,kBAAkB,EAAE,CAAC;AAChD;;;;"}